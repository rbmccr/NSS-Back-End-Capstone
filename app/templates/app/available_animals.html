{% extends 'app/index.html' %}

{% block style %}
  <style>

    /* align cards in grid */
    .card-container {
      display: grid;
      grid-template-columns: auto auto auto;
      justify-content: space-evenly;
    }

    /* control max height of card body below image */
    .card-body {
      max-height: 130px;
    }

    /* override bootstrap card-text margin */
    .card-text {
      margin-bottom: 6px;
    }

    /* establish dimension of cards outside of media queries */
    .card {
      width: 310px;
      height: 435px; /* was 450px */
      margin-bottom: 15px;
      position: relative;
    }

    /* position links to animal detail pages */
    .card > a {
      width: 33%;
      position: absolute;
      bottom: 17%; /* was 2.5% */
      right: 5%; /* was 33% */
    }

    .card > img {
      width: 310px;
      height: 310px;
    }

    /* align filters in each column */
    .filters {
      display: grid;
      grid-template-columns: auto auto auto;
      justify-content: space-evenly;
    }

    /* used to center animal cards in body if window between 1200px and 992px */
    @media only screen and (max-width: 1200px) and (min-width:992px) {
      .card {
        width: 300px;
        height: 450px;
      }
      .card > img {
        width: 300px;
        height: 300px;
      }
    }

    /* used to center animal cards in body if window between 992px and 768px */
    @media only screen and (max-width: 992px) and (min-width:768px) {
      .card-container {
        display: grid;
        grid-template-columns: auto auto;
        justify-content: space-evenly;
      }
    }

    /* used to center animal cards in body if window smaller than 768px */
    @media only screen and (max-width: 768px) {
      .card-container {
        display: grid;
        grid-template-columns: auto;
        justify-content: center;
      }
    }

    /* used to scale animal cards in body if window smaller than 360px (used for iphone5 width of 320px) */
    @media only screen and (max-width: 360px) {
      .card {
        width: 280px;
      }
      .card > img {
        width: 280px;
        height: 280px;
      }
    }

  </style>
{% endblock style %}

{% block content %}
  <div class='pb-2 mt-4 mb-4 border-bottom'>
    <h3>Available Pets</h3>
  </div>

  <div class='messages'>
    {% for message in messages %}
      <div class='{{ message.tags }} alert alert-info' role='alert'>{{ message }}</div>
    {% endfor %}
  </div>

    <div class='card mb-3' style='width: 100%; height: auto;'>

      <div class='card-header'>
        Apply a filter or search by name
      </div>

      <div class='card-body'>

        <div class='row filters'>

          <div class="col-sm">
            <div class="btn-group" role="group" aria-label="animal filters">
              <button type="button" class="btn btn-outline-dark">&nbsp;&nbsp; Cat &nbsp;&nbsp;</button>
              <button type="button" class="btn btn-outline-dark">&nbsp;&nbsp; Dog &nbsp;&nbsp;</button>
              <button type="button" class="btn btn-outline-dark">&nbsp; Other &nbsp;</button>
            </div>
          </div>

          <div class='col-sm'>
            <div class="btn-group" role="group" aria-label="animal filters">
              <button type="button" class="btn btn-outline-dark">&nbsp; Young &nbsp;</button>
              <button type="button" class="btn btn-outline-dark">&nbsp; Adult &nbsp;</button>
              <button type="button" class="btn btn-outline-dark">&nbsp; Senior &nbsp;</button>
            </div>
          </div>

          <div class='col-sm'>
            <form class="form-inline ml-lg-auto my-2 my-lg-0" action="{% url 'app:index' %}" method="POST">
              {% csrf_token %}
              <div class="input-group">
                <input class="form-control" name="product_query" type="search" placeholder="Search" aria-label="Search">
                <div class="input-group-append">
                  <button class="btn btn-dark" type="submit"><i class="fas fa-search"></i></button>
                </div>
              </div>
            </form>
          </div>

        </div>

      </div>

    </div>

  <div class='card-container'>
    {% for animal in animals %}
      <div class='card'>
        <img class='card-img-top' src='{{ animal.image.url }}' alt='{{ animal.name }}'>
        <a href="{% url 'app:animal_detail' animal.id %}" class='btn btn-outline-dark btn-sm'>View</a>
        <div class='card-body'>
          <h5 class='card-title'>{{ animal.name }}</h5>
          <p class='card-text'>{{ animal.breed }}</p>
          <p class='card-text'>Age: {{ animal.age }}</p>
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock content %}